os: unstable
cache:
  - node_modules
environment:
  matrix:
    - nodejs_version: 6
install:
  - ps: Install-Product node $env:nodejs_version
  - set CI=true
  - npm install -g npm@latest
  - set PATH=%APPDATA%\npm;%PATH%
  - npm install
matrix:
  fast_finish: true
build: off
version: '{build}'
shallow_clone: true
clone_depth: 1
test_script:
  - node --version
  - npm --version
  - npm run lint
  - npm run test
  - npm run package
  - dir release
deploy:
  release: myproduct-v$(APPVEYOR_REPO_TAG_NAME)
  description: $(APPVEYOR_REPO_COMMIT_MESSAGE_EXTENDED)
  provider: GitHub
  auth_token:
    secure: h37ydCUTlcJKKEyi3q1xeYHvcgir0y7A0soc9a2LaE3fIqeX9bgyhtjhhjHNdXJEDm2n7yrhvifek58xJecoywzJQgngEpjiyDqCeFZY6dfneVpzHm/0JIQRhud40UjE4XlvlZ5mhTqXjW8KtkD3fiU/GPS6vKZSuQR4MjDN2QUO6KsEaDHKKI26xgXZ7b4k+YGROrhX7FgdVQ95zviI5jrB3qHrQd1yNcLL/ut6jRTWdSYG+++DYVR1WR9mIR9ZkvPIH1o6ZgGmLe60r6lG4giDIswrghJzuYB1s1Z6yTEwwhii0G2N0OItSsRA1J8XnJssKN4Ha0/4z7JeLo6nNnkS70jwdmkjRTQB3A9JqxsXGELF/8T8rBhu5fWVxuSxLkXSTai5YZoaQwMrPDwCPD7AtWPxAQdSn5Pu7n5LqunQe6m56A8fb9o3RvNkKqVn+Jlmebe16VQCSlJdXmxPVIFpWPdJZY6Rwyk8GgCrrmVEKu7hG0TEKzZGFj6D2gIB97iZtWZjqSKFuzK3dyHDMMFCwbDbCyGpCnoUo6ttFerEGLhiOUGIim4v0YeERbG2njWUP5Qh8rU8Qzp7WF8l5fgLo3x3fgeoAEFzn6TSHgpEb/uJwhTwCdBeU10fO+YRbckEJvsHuo7m0UgSE9S5N/25YQPhtfYyoDbr0X2jCFU=
  artifact: /release\/.*\.exe/
  draft: false
  prerelease: false
  on:
    branch: master
    appveyor_repo_tag: true
